<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Thingylabs Invoice Generator</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://www.thingylabs.io/fonts.css" media="print" onload="this.media='all'">
</head>
<body>
    <nav>
        <div class="logo">
            <a href="/">Thingylabs</a>
        </div>
        <div class="nav-menu">
            <div class="nav-links">
                <a href="/#services">Services</a>
                <a href="/#expertise">Expertise</a>
                <a href="/#team">Team</a>
                <a href="/#contact">Kontakt</a>
            </div>
            <div class="theme-switcher">
                <button data-theme="light">Hell</button>
                <button data-theme="auto" class="active">Auto</button>
                <button data-theme="dark">Dunkel</button>
            </div>
        </div>
    </nav>

    <div class="container">
        <h1>Thingylabs Invoice Generator</h1>
        
        <div class="form-section">
            <button type="button" class="config-toggle" id="configToggle">Show Company Configuration</button>
            
            <div class="config-section" id="configSection">
                <h2>Company Configuration</h2>
                
                <div class="form-group">
                    <label for="companyName">Company Name</label>
                    <input type="text" id="companyName" value="Thingylabs GmbH">
                </div>
                
                <div class="form-group">
                    <label for="companyEmail">Email</label>
                    <input type="email" id="companyEmail" value="hallo@thingylabs.io">
                </div>
                
                <div class="form-group">
                    <label for="companyPhone">Phone</label>
                    <input type="text" id="companyPhone" value="0711 968 814 61">
                </div>
                
                <div class="form-group">
                    <label for="companyAddress">Address</label>
                    <textarea id="companyAddress" rows="3">Hasenbergsteige 6
70178 Stuttgart
Germany</textarea>
                </div>
                
                <div class="form-group">
                    <label for="companyTaxId">VAT Number</label>
                    <input type="text" id="companyTaxId" value="DE344781208">
                </div>
                
                <div class="form-group">
                    <label for="companyRegNumber">Registration Number</label>
                    <input type="text" id="companyRegNumber" value="HRB 779845">
                </div>
                
                <div class="form-group">
                    <label for="companyRepresentative">Represented By</label>
                    <input type="text" id="companyRepresentative" value="Flora Han">
                </div>
                
                <div class="form-group">
                    <label for="companyTagline">Tagline</label>
                    <input type="text" id="companyTagline" value="Founded 2017 "We ♥ Open Source"">
                </div>
                
                <div class="form-group">
                    <label for="paymentTerms">Payment Terms (days)</label>
                    <input type="number" id="paymentTerms" min="0" value="7">
                </div>
                
                <div class="form-group">
                    <label for="companyBankInfo">Bank Information</label>
                    <textarea id="companyBankInfo" rows="3">BE50967609727818
TRWIBEB1XXX</textarea>
                </div>
                
                <div class="config-actions">
                    <button type="button" id="saveCompanyConfig">Save Configuration</button>
                </div>
            </div>
            
            <h2>Invoice Details</h2>
            
            <div class="form-group">
                <label for="invoiceNumber">Invoice Number</label>
                <div class="invoice-number-container">
                    <input type="text" id="invoiceNumber" placeholder="YYMMDD-001">
                    <button type="button" id="generateInvoiceNumber">Generate</button>
                </div>
            </div>
            
            <div class="form-group">
                <label for="invoiceDate">Invoice Date</label>
                <input type="date" id="invoiceDate">
            </div>
            
            <div class="form-group">
                <label for="deliveryDateStart">Service Period</label>
                <div class="date-range">
                    <input type="date" id="deliveryDateStart">
                    <span>to</span>
                    <input type="date" id="deliveryDateEnd">
                </div>
            </div>
            
            <h2>Client Information</h2>
            
            <div class="client-select-container">
                <select id="clientSelect">
                    <option value="">-- Select a client --</option>
                    <option value="new">+ Add new client</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="clientName">Client Name/Company</label>
                <input type="text" id="clientName" placeholder="Client Company GmbH">
            </div>
            
            <div class="form-group">
                <label for="clientAddress">Client Address</label>
                <textarea id="clientAddress" rows="3" placeholder="Street, City, Postal Code"></textarea>
            </div>
            
            <div class="client-actions">
                <button type="button" id="saveClient">Save Client</button>
                <button type="button" id="deleteClient">Delete Client</button>
            </div>
            
            <div class="checkbox-group">
                <input type="checkbox" id="reverseCharge">
                <label for="reverseCharge">Reverse Charge (International Client)</label>
            </div>
            
            <h2>Line Items</h2>
            
            <div class="line-items" id="lineItemsContainer">
                <div class="line-item">
                    <input type="text" placeholder="Description" class="item-description">
                    <input type="number" placeholder="Quantity" class="item-quantity" min="1" value="1">
                    <input type="number" placeholder="Price" class="item-price" min="0" step="0.01">
                    <input type="number" placeholder="VAT %" class="item-vat" min="0" value="19">
                    <button type="button" class="remove-item">✕</button>
                </div>
            </div>
            
            <button type="button" class="add-item" id="addLineItem">+ Add Item</button>
            
            <div class="form-group">
                <label for="notes">Notes</label>
                <textarea id="notes" rows="3" placeholder="Payment terms, additional information, etc."></textarea>
            </div>
        </div>
        
        <div class="preview-section">
            <h2>Preview</h2>
            <div class="invoice-preview" id="invoicePreview">
                <!-- Preview will be generated here -->
            </div>
            
            <div class="action-buttons">
                <button type="button" id="generatePdf">Generate PDF</button>
                <button type="button" id="generateXml">Generate XML</button>
                <button type="button" id="printInvoice">Print</button>
            </div>
        </div>
    </div>

    <footer>
        <div class="footer-grid">
            <div class="footer-links">
                <h4>Services</h4>
                <a href="/#services">Entwicklungsunterstützung</a>
                <a href="/#services">Technische Leitung</a>
                <a href="/#services">Komplettentwicklung</a>
            </div>
            <div class="footer-links">
                <h4>Expertise</h4>
                <a href="/#expertise">TypeScript & Node.js</a>
                <a href="/#expertise">React & Frontend</a>
                <a href="/#expertise">Cloud & DevOps</a>
            </div>
            <div class="footer-links">
                <h4>Unternehmen</h4>
                <a href="/#team">Team</a>
                <a href="/datenschutz.html">Datenschutz</a>
                <a href="/impressum.html">Impressum</a>
            </div>
            <div class="footer-links">
                <h4>Kontakt</h4>
                <div class="copy-container">
                    <a href="mailto:hello@thingylabs.io" class="copy-text">hello@thingylabs.io</a>
                    <button class="copy-btn" data-copy="hello@thingylabs.io">Kopieren</button>
                </div>
                <div class="copy-container">
                    <a href="tel:+497119688161" class="copy-text">+49 711 968 814 61</a>
                    <button class="copy-btn" data-copy="+497119688161">Kopieren</button>
                </div>
                <a href="https://www.linkedin.com/company/thingylabs" rel="noopener noreferrer">LinkedIn</a>
            </div>
        </div>
        <div class="copyright">
            <p>© 2024 Thingylabs GmbH. Alle Rechte vorbehalten.</p>
        </div>
    </footer>

    <!-- Load scripts with defer to improve page load performance -->
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script defer src="ui.js" type="module"></script>
    <script defer src="invoice.js" type="module"></script>
    <script defer src="xml.js" type="module"></script>
    <script defer src="pdf.js" type="module"></script>
    <script defer data-domain="thingylabs.io" src="https://plausible.io/js/script.js"></script>

</body>
</html>
